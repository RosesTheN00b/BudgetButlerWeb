
<!-- Main content -->
<section class="content">
  <!-- Info boxes -->
<div class="row">
	<div class="col-xs-12">
	<div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Wöchentliche Arbeitszeit</h3>
          <div class="box-tools pull-right">
            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
          </div>
        </div><!-- /.box-header -->
        <div class="box-body">
       <canvas id="einnahmenAusgaben6monate" style="height:400px;"></canvas>
                <script> 
                var salesChartData = {
                	    labels: {{stechzeiten_label|safe	}},
                	    datasets: [
                	      {
                	        label: "Ist-Zeit",
                	        pointBorderColor: "green",
                	        borderColor: "#3b8bba",
                	        pointStrokeColor: "rgba(60,141,188,1)",
                	        pointHighlightFill: "#fff",
                	        pointHighlightStroke: "rgba(60,141,188,1)",
                	        data: {{ist_data|safe}},
                	      },
                	      {
                  	        label: "Soll-Zeit",
                  	        pointBorderColor: "gray",
                  	        borderColor: "rgb(210, 214, 222)",
                  	        pointStrokeColor: "#c1c7d1",
                  	        pointHighlightFill: "#fff",
                  	        pointHighlightStroke: "rgb(220,220,220)",
                  	        data: {{soll_data|safe}},
                  	      }
                	    ]
                	  };
                var canvas = document.getElementById("einnahmenAusgaben6monate");
                var myLineChart = new Chart(canvas, {
                	type: 'line',
                    data: salesChartData,
                    options: {
                    	responsive: true,
                    	maintainAspectRatio: false,
                }});
                </script>
		
		</div></div>
	</div>
</div>
<div class="row">
	<div class="col-xs-12">
	<div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Monatliche Arbeitszeit</h3>
          <div class="box-tools pull-right">
            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
          </div>
        </div><!-- /.box-header -->
        <div class="box-body">
       <canvas id="monatlicheStechzeiten" style="height:400px;"></canvas>
                <script> 
                var salesChartData = {
                	    labels: {{stechzeiten_label_monatlich|safe	}},
                	    datasets: [
                	      {
                	        label: "Ist-Zeit",
                	        pointBorderColor: "green",
                	        borderColor: "#3b8bba",
                	        pointStrokeColor: "rgba(60,141,188,1)",
                	        pointHighlightFill: "#fff",
                	        pointHighlightStroke: "rgba(60,141,188,1)",
                	        data: {{ist_data_monatlich|safe}},
                	      },
                	      {
                  	        label: "Soll-Zeit",
                  	        pointBorderColor: "gray",
                  	        borderColor: "rgb(210, 214, 222)",
                  	        pointStrokeColor: "#c1c7d1",
                  	        pointHighlightFill: "#fff",
                  	        pointHighlightStroke: "rgb(220,220,220)",
                  	        data: {{soll_data_monatlich|safe}},
                  	      }
                	    ]
                	  };
                var canvas = document.getElementById("monatlicheStechzeiten");
                var myLineChart = new Chart(canvas, {
                	type: 'line',
                    data: salesChartData,
                    options: {
                    	responsive: true,
                    	maintainAspectRatio: false,
                }});
                </script>
		
		</div></div>
	</div>
</div>

{% for woche,data in wochen.items %}
 <div class="row">
    
    
    <div class="box box-default">
                <div class="box-header with-border">
                  <h3 class="box-title">Ist/Soll für Woche {{woche}}</h3>
                  <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                  </div>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <div class="col-md-6">
                      <div class="chart-responsive">
                        <canvas id="zusammenfassung{{woche}}" height="300"></canvas>
                      </div><!-- ./chart-responsive -->
                    </div><!-- /.col -->
                    <div class="col-md-4">
      <!--                  <ul class="chart-legend clearfix">
                      {% for ausgabe in ausgaben %}
                        <li><i class="fa fa-circle-o text-red"></i> {{ausgabe.0}} </li>
					  {% endfor %}
                      </ul>-->
                    </div><!-- /.col -->
                <div class="box-footer no-padding">
                </div><!-- /.footer -->
        <div class="box-body col-xs-3">
          <div class="table-responsive">
            <table class="table no-margin">
              <tbody>
                <tr>
                  <td>Ist-Wert</td>
                  <td>{{data.1}}</td>
                </tr>
                <tr>
                  <td>Soll-Rückstand</td>
                  <td>{{data.0}}</td>
                </tr>
              </tbody>
            </table>
          </div><!-- /.table-responsive -->
        </div><!-- /.box-body -->
        <div class="box-footer clearfix">
        </div><!-- /.box-footer -->
      </div><!-- /.box -->
    </div><!-- /.col -->
  </div><!-- /.row -->
    
    <script> 
	   var pieData = {
		  labels:["Soll-Rückstand","Ist -Zeiten"],
		  datasets: [
		        {
		            data: {{data|safe}},
		            backgroundColor: ['gray','green'],
		        }],
	   };
	   var canvas = document.getElementById("zusammenfassung{{woche}}");
       var myLineChart = new Chart(canvas, {
       	type: 'pie',
           data: pieData,
           options: {
           	responsive: true,
           	maintainAspectRatio: false,
       }});
	   
   </script>
   
{% endfor %}
  <div class="row">
    <div class="col-md-12">
      <!-- Tabelle letzte Buchungen -->
      <div class="box box-info collapsed-box">
        <div class="box-header with-border">
          <h3 class="box-title">Stechzeiten</h3>
          <div class="box-tools pull-right">
            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
          </div>
        </div><!-- /.box-header -->
        <div class="box-body">
          <div class="table-responsive">
            <table class="table no-margin">
              <thead>
                <tr>
                  <th>Nummer</th>
                  <th>Datum</th>
                  <th>Arbeitgeber</th>
                  <th>Einstechen</th>
                  <th>Ausstechen</th>
                  <th>Wert</th>
                  <th>Aktion</th>
                </tr>
              </thead>
              <tbody>
                {% for stechzeit in stechzeiten %}
                <tr>
                  <td>{{stechzeit.0}}</td>
                  <td>{{stechzeit.1}}</td>
                  <td>{{stechzeit.2}}</td>
                  <td>{{stechzeit.3}}</td>
                  <td>{{stechzeit.4}}</td>
                  <td>{{stechzeit.5}}</td>
                   <td>
                   	<form role="form" action="/addeinzelbuchung/" method="post">
                  	{% csrf_token %}
                  		<input type="hidden" name="edit_index" value="{{stechzeit.0}}">
                  		<button type="submit" name="action" value="edit" ><i class="fa fa-pencil"></i></button>
                    </form>
                    </td>
                    <td>
                  	<form onsubmit="return confirm('Willst du wirklich den Eintrag {{stechzeit.2}} löschen?');" role="form" action="/uebersicht/" method="post">
                  	{% csrf_token %}
                  		<input type="hidden" name="delete_index" value="{{stechzeit.0}}">
                  		<button name="action" value="delete" ><i class="fa fa-trash-o"></i></button>
                    </form>
                    </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div><!-- /.table-responsive -->
        </div><!-- /.box-body -->
        <div class="box-footer clearfix">
          <a href="/addstechzeit/" class="btn btn-sm btn-info btn-flat pull-left">Stechzeit Buchung</a>
        </div><!-- /.box-footer -->
      </div><!-- /.box -->
    </div><!-- /.col -->
  </div><!-- /.row -->

</section>